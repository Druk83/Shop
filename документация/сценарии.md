# Сценарии для сущностей диаграммы ArchiMate

## Бизнес-слой (Business Layer)

1. Индивидуальный покупатель (актёр) → Роль: Покупатель
   **Тип:** Assignment relation (Отношение назначения)
   **Означает:** конкретный человек исполняет роль покупателя.
   **Комментарий:** инициирует покупку через витрину и личный кабинет.

2. Администратор магазина (актёр) → Роль: Администратор
   **Тип:** Assignment relation (Отношение назначения)
   **Означает:** сотрудник наделён полномочиями администратора.
   **Комментарий:** управляет каталогом, заказами, ценами, пользователями.

3. Платёжный провайдер (актёр) → Роль: Платёжный сервис
   **Тип:** Assignment relation (Отношение назначения)
   **Означает:** внешний контрагент исполняет роль эквайринга.
   **Комментарий:** авторизация, списание и возвраты платежей.

4. Логистический партнёр (актёр) → Роль: Логистический партнёр
   **Тип:** Assignment relation (Отношение назначения)
   **Означает:** служба доставки исполняет роль перевозчика.
   **Комментарий:** создание отправок, статусы, сроки доставки.

5. Поставщик/дистрибьютор (актёр) → Роль: Поставщик
   **Тип:** Assignment relation (Отношение назначения)
   **Означает:** контрагент исполняет роль источника номенклатуры.
   **Комментарий:** прайсы, остатки, подтверждение наличия и сроков.

6. Корпоративный заказчик (B2B) (актёр) → Роль: Заказчик (B2B)
   **Тип:** Assignment relation (Отношение назначения)
   **Означает:** юрлицо действует в роли B2B-клиента.
   **Комментарий:** оптовые заказы, реквизиты, договорные условия.

---

7. Роль: Покупатель → Интерфейс: Онлайн-витрина и личный кабинет (B2C/B2B)
   **Тип:** Used-by relation (Отношение использования)
   **Означает:** роль использует точку контакта системы.
   **Комментарий:** поиск, корзина, оформление, просмотр статусов.

7a. Роль: Заказчик (B2B) → Интерфейс: Онлайн-витрина и личный кабинет (B2C/B2B)
   **Тип:** Used-by relation (Отношение использования)
   **Означает:** B2B-клиент использует ЛК для оформления и отслеживания.
   **Комментарий:** реквизиты, договорные цены, история заказов.

7b. Роль: Покупатель → Сервис: Каталог товаров
   **Тип:** Used-by relation (Отношение использования)
   **Означает:** роль потребляет сервис каталога.
   **Комментарий:** поиск/просмотр/фильтры.

7c. Роль: Покупатель → Сервис: Оформление заказа
   **Тип:** Used-by relation (Отношение использования)
   **Означает:** завершает покупку через сервис.
   **Комментарий:** создание и подтверждение заказа.

8. Роль: Администратор → Интерфейс: Административный портал
   **Тип:** Used-by relation (Отношение использования)
   **Означает:** роль работает через админ-интерфейс.
   **Комментарий:** CRUD каталога, заказов, цен и пользователей.

8a. Роль: Администратор → Сервис: Администрирование
   **Тип:** Used-by relation (Отношение использования)
   **Означает:** бэк-офисные операции.
   **Комментарий:** каталог, цены, заказы, доступы.
   
9. Роль: Логистический партнёр → Интерфейс: Партнёрский API для логистики
   **Тип:** Used-by relation (Отношение использования)
   **Означает:** внешняя роль интегрируется через API.
   **Комментарий:** создание отправок и обмен трек-статусами.
10. Роль: Поставщик → Интерфейс: Партнёрский API для поставщиков
    **Тип:** Used-by relation (Отношение использования)
    **Означает:** поставщик обменивается данными через API.
    **Комментарий:** импорт прайсов и остатков по расписанию.
11. Роль: Платёжный сервис → Интерфейс: Платёжный шлюз
    **Тип:** Used-by relation (Отношение использования)
    **Означает:** платёжный провайдер взаимодействует через шлюз.
    **Комментарий:** вебхуки подтверждения, статусы операций.
---

12. Процесс: Поиск и выбор товара → Сервис: Каталог товаров
   **Тип:** Realization relation (Отношение реализации)
   **Означает:** процесс реализует бизнес-сервис каталога.
   **Комментарий:** навигация, фильтры, карточка товара.
13. Процесс: Управление корзиной → Сервис: Оформление заказа
   **Тип:** Realization relation (Отношение реализации)
   **Означает:** подготовка корзины реализует сервис покупки.
   **Комментарий:** валидация, расчёт суммы, применение скидок.
14. Процесс: Оформление заказа → Сервис: Оформление заказа
   **Тип:** Realization relation (Отношение реализации)
   **Означает:** конвертация корзины в заказ.
   **Комментарий:** фиксация состава, реквизиты, способ доставки.
15. Процесс: Онлайн-оплата → Сервис: Онлайн-оплата
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** проведение платёжной операции.
    **Комментарий:** авторизация/списание/возврат.
16. Процесс: Доставка и трекинг → Сервис: Доставка и трекинг
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** логистическая часть обслуживания.
    **Комментарий:** создание отправки, статусы ETA.
17. Процесс: Уведомления → Сервис: Уведомления
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** коммуникации с участниками.
    **Комментарий:** e-mail, SMS, мессенджеры, push.
18. Процесс: Обновление прайс-листов и остатков → Сервис: Администрирование
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** поддержание актуальности справочников.
    **Комментарий:** импорт, валидация, публикация.
19. Процесс: Обработка оптовых заказов (B2B) → Сервис: Личный кабинет
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** оформление B2B-заказов через ЛК.
    **Комментарий:** реквизиты, договорные цены, согласование.
20. Процесс: Управление ценами → Сервис: Администрирование
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** настройка правил ценообразования.
    **Комментарий:** матрицы цен, промо-правила, приоритеты.
---

21. Событие: Заказ создан → Процесс: Онлайн-оплата
    **Тип:** Triggering relation (Отношение инициирования)
    **Означает:** подтверждённый заказ запускает оплату.
    **Комментарий:** переход в платёжный сценарий.

22. Событие: Оплата подтверждена → Процесс: Доставка и трекинг
    **Тип:** Triggering relation (Отношение инициирования)
    **Означает:** можно формировать отгрузку.
    **Комментарий:** печать документов, передача в логистику.

23. Событие: Заказ передан в доставку → Процесс: Уведомления
    **Тип:** Triggering relation (Отношение инициирования)
    **Означает:** информируем клиента и менеджера.
    **Комментарий:** трек-номер, ожидаемая дата.

24. Событие: Статус доставки обновлён → Процесс: Уведомления
    **Тип:** Triggering relation (Отношение инициирования)
    **Означает:** сообщаем о новом состоянии отправки.
    **Комментарий:** доставляется/доставлено/проблема.

25. Событие: Прайс/остатки обновлены → Процесс: Управление ценами
    **Тип:** Triggering relation (Отношение инициирования)
    **Означает:** пересчёт цен и проверка доступности.
    **Комментарий:** публикация новых цен на витрину.

---

26. Процесс: Поиск и выбор товара → Объекты: Товар, Категория/справочник
    **Тип:** Access relation (Отношение доступа)
    **Означает:** чтение товарных данных.
    **Комментарий:** карточки, атрибуты, фильтры.

27. Процесс: Управление корзиной → Объекты: Корзина, Позиция заказа
    **Тип:** Access relation (Отношение доступа)
    **Означает:** создание/обновление состава корзины.
    **Комментарий:** количество, цена, скидки.

28. Процесс: Оформление заказа → Объекты: Заказ, Клиент/профиль
    **Тип:** Access relation (Отношение доступа)
    **Означает:** фиксация заказа с реквизитами.
    **Комментарий:** адрес, способ оплаты и доставки.

29. Процесс: Онлайн-оплата → Объект: Платёж (транзакция)
    **Тип:** Access relation (Отношение доступа)
    **Означает:** создание и обновление статусов оплаты.
    **Комментарий:** authorized/captured/refunded/failed.

30. Процесс: Доставка и трекинг → Объекты: Отгрузка, Трек-номер/статус
    **Тип:** Access relation (Отношение доступа)
    **Означает:** регистрация отправки и её состояния.
    **Комментарий:** номер отправки, контроль ETA.

31. Процесс: Уведомления → Объект: Уведомление
    **Тип:** Access relation (Отношение доступа)
    **Означает:** генерация и отправка сообщений.
    **Комментарий:** шаблоны, каналы, аудит.

32. Процесс: Управление ценами → Объекты: Прайс-лист, Промокод
    **Тип:** Access relation (Отношение доступа)
    **Означает:** конфигурация цен и правил скидок.
    **Комментарий:** приоритеты промо, периоды действия.

33. Процесс: Обновление прайс-листов и остатков → Объект: Остатки на складе
    **Тип:** Access relation (Отношение доступа)
    **Означает:** актуализация доступности товаров.
    **Комментарий:** резервирование, публикация на витрину.

---

34. Коллаборация: Интеграция с логистикой ↔ Роль: Логистический партнёр
    **Тип:** Association (Ассоциация)
    **Означает:** совместное участие во взаимодействии.
    **Комментарий:** окна отгрузки, SLA статусов.

35. Коллаборация: Интеграция с платёжным провайдером ↔ Роль: Платёжный сервис
    **Тип:** Association (Ассоциация)
    **Означает:** участие внешнего контрагента в оплате.
    **Комментарий:** договорённости по SLA, чарджбеки.

36. Коллаборация: Синхронизация с поставщиком ↔ Роль: Поставщик
    **Тип:** Association (Ассоциация)
    **Означает:** совместная синхронизация данных.
    **Комментарий:** расписание обмена, форматы файлов/API.

37. Коллаборация: Онлайн-оформление заказа ↔ Роли: Покупатель, Администратор (опционально)
    **Тип:** Association (Ассоциация)
    **Означает:** участие ролей в процессе оформления.
    **Комментарий:** самообслуживание; участие администратора — при ручных корректировках.

---

38. Контракт: Публичная оферта / пользовательское соглашение → Сервисы: Каталог, Оформление заказа
    **Тип:** Association (Ассоциация)
    **Означает:** регламентирует условия предоставления сервиса.
    **Комментарий:** права/обязанности, возвраты, гарантия.

39. Политика обработки персональных данных → Сервисы: Личный кабинет, Уведомления
    **Тип:** Association (Ассоциация)
    **Означает:** требования к работе с ПДн.
    **Комментарий:** согласия, хранение, отписки.

39а. Политика безопасности платежей (PCI DSS, TLS 1.3) → Сервисы: Онлайн-оплата, Платёжный шлюз
    **Тип:** Association (Ассоциация)
    **Означает:** требования к защите платёжных данных и каналов.
    **Комментарий:** шифрование каналов, журналирование, соответствие PCI.

40. Договор поставки *(опционально)* → Коллаборация: Синхронизация с поставщиком
    **Тип:** Association (Ассоциация)
    **Означает:** условия обмена данными и поставок.
    **Комментарий:** SLA импорта, ответственность.

41. Договор логистических услуг *(опционально)* → Коллаборация: Интеграция с логистикой
    **Тип:** Association (Ассоциация)
    **Означает:** условия доставки и трекинга.
    **Комментарий:** сроки, зоны, тарифы.

42. Представление: Карточка товара (онлайн-страница) → Объект: Товар
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** визуальное представление бизнес-объекта.
    **Комментарий:** фото, спецификации, цена.

43. Представление: Счёт/чек/накладная/акт (PDF) → Объект: Документы
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** печатные формы документов.
    **Комментарий:** для оплаты, отгрузки и учёта.

44. Представление: Прайс-лист (Excel/PDF) → Объект: Прайс-лист
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** формат обмена ценами.
    **Комментарий:** выгрузка/импорт, версии.

45. Представление: Страница трекинга доставки → Объект: Трек-номер/статус
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** отображение состояний доставки.
    **Комментарий:** публичная ссылка/ЛК.

---

### Межслойные связи: Business ↔ Application

#### Business Service ← Application Service

1. Application Service: Catalog API → Business Service: Каталог товаров
Тип: Realization relation (Отношение реализации)
Означает: прикладной сервис реализует бизнес-сервис каталога.
Комментарий: поиск, фильтры и карточки товара предоставляются через API.

2. Application Service: Order API → Business Service: Оформление заказа
Тип: Realization relation
Означает: сервис заказов воплощает процесс покупки.
Комментарий: создание/чтение/изменение заказа, статусы.

3. Application Service: Payment API → Business Service: Онлайн-оплата
Тип: Realization relation
Означает: платёжные операции реализуют бизнес-сервис оплаты.
Комментарий: authorize/capture/refund, статусы операций.

4. Application Service: Delivery API → Business Service: Доставка и трекинг
Тип: Realization relation
Означает: логистические действия реализуют сервис доставки.
Комментарий: создание отправки, получение трек-статусов.

5. Application Service: Notification API → Business Service: Уведомления
Тип: Realization relation
Означает: рассылки реализуются прикладным сервисом уведомлений.
Комментарий: email/SMS/push, шаблоны, аудит.

6. Application Service: User/Identity API → Business Service: Личный кабинет
Тип: Realization relation
Означает: управление учётными записями реализует ЛК.
Комментарий: профиль, адреса, реквизиты.

7. Application Service: Admin API → Business Service: Администрирование
Тип: Realization relation
Означает: админ-операции реализуют back-office сервис.
Комментарий: каталог, цены, заказы, доступы.

8. Application Service: Pricing API → Business Service: Каталог товаров
Тип: Realization relation
Означает: показ актуальных цен как часть каталога.
Комментарий: расчёт/отображение цен в карточках.

9. Application Service: Promotion API → Business Service: Оформление заказа
Тип: Realization relation
Означает: применение скидок/промо при покупке.
Комментарий: проверка условий, приоритетов, срока действия.

10. Application Service: Supplier Integration API → Business Process: Обновление прайс-листов и остатков
    Тип: Serving
    Комментарий: приём/валидация прайсов, обновление остатков.

11. Application Service: Logistics Integration API → Business Process: Доставка и трекинг
    Тип: Serving
    Комментарий: создание отправок, получение статусов от партнёров.

#### Business Process ← Application Process / Function

10. Application Process: Checkout Process → Business Process: Оформление заказа
Тип: Realization relation
Означает: оркестрация шагов checkout реализует процесс.
Комментарий: validate cart → create order → confirm.

11. Application Process: Payment Processing → Business Process: Онлайн-оплата
Тип: Realization relation
Означает: шаги авторизации/подтверждения реализуют оплату.
Комментарий: authorize → capture/refund.

12. Application Process: Shipment Creation → Business Process: Доставка и трекинг
Тип: Realization relation
Означает: создание отгрузки реализует логистику.
Комментарий: генерация отправки, этикетки.

13. Application Process: Tracking Update → Business Process: Доставка и трекинг
Тип: Realization relation
Означает: обработка статусов реализует трекинг.
Комментарий: обновление ETA/статусов.

14. Application Process: Price/Stock Import → Business Process: Обновление прайс-листов и остатков
Тип: Realization relation
Означает: импорт/валидация обновляют справочники.
Комментарий: расписание, контроль версий.

15. Application Process: Notification Flow → Business Process: Уведомления
Тип: Realization relation
Означает: маршрутизация и отправка сообщений.
Комментарий: шаблоны, каналы, ретраи.

16. Application Function: Расчёт цен → Business Process: Управление ценами
Тип: Realization relation
Означает: прикладная функция поддерживает бизнес-процесс ценообразования.
Комментарий: матрицы, сегменты, прайс-правила.

17. Application Function: Управление каталогом → Business Process: Управление каталогом и характеристиками
Тип: Realization relation
Означает: функции редактирования карточек реализуют процесс.
Комментарий: атрибуты, категории, медиа.

17а. Application Process: Управление каталогом → Business Process: Управление каталогом и характеристиками
    Тип: Realization
    Комментарий: CRUD категорий/атрибутов, публикация на витрину.

#### Business Interface ← Application Interface

18. Application Interface: Storefront API → Business Interface: Онлайн-витрина и личный кабинет (B2C/B2B)
Тип: Realization relation
Означает: прикладной интерфейс реализует точку контакта клиента.
Комментарий: действия покупателя и ЛК.

19. Application Interface: Admin API → Business Interface: Административный портал
Тип: Realization relation
Означает: интерфейс администрирования реализует бизнес-интерфейс.
Комментарий: рабочее место сотрудников.

20. Application Interface: Partner API (Logistics) → Business Interface: Партнёрский API для логистики
Тип: Realization relation
Означает: интеграция с ТК реализует бизнес-интерфейс.
Комментарий: создание отправок, статусы.

21. Application Interface: Partner API (Suppliers) → Business Interface: Партнёрский API для поставщиков
Тип: Realization relation
Означает: интеграция с поставщиками реализует бизнес-интерфейс.
Комментарий: прайсы и остатки.

22. Application Interface: Payment Webhook Endpoint → Business Interface: Платёжный шлюз
Тип: Realization relation
Означает: точка приёма коллбеков реализует шлюз.
Комментарий: подтверждения/статусы платежей.

#### Business Event ← Application Event

23. Application Event: OrderCreated → Business Event: Заказ создан
Тип: Triggering relation (Отношение инициирования)
Означает: событие приложения фиксирует создание заказа.
Комментарий: переход к оплате/логистике.

24. Application Event: PaymentAuthorized → Business Event: Оплата подтверждена
Тип: Triggering relation
Означает: успешная авторизация инициирует бизнес-событие.
Комментарий: можно формировать отгрузку.

25. Application Event: ShipmentCreated → Business Event: Заказ передан в доставку
Тип: Triggering relation
Означает: начало логистики.
Комментарий: генерируется трек-номер.

26. Application Event: DeliveryStatusUpdated → Business Event: Статус доставки обновлён
Тип: Triggering relation
Означает: обновление из интеграции транслируется в бизнес-событие.
Комментарий: отражается в ЛК и уведомлениях.

27. Application Event: PriceListImported / StockUpdated → Business Event: Прайс/остатки обновлены
Тип: Triggering relation
Означает: импорт цен/остатков инициирует бизнес-событие.
Комментарий: пересчёт цен/наличия.

27а. Application Event: InvoiceGenerated → Business Event: Документ сформирован
    Тип: Triggering
    Комментарий: доступен счёт/чек (PDF) в ЛК и для отправки.

#### Business Object ← Data Object

28. Data Object: Product → Business Object: Товар
Тип: Realization relation
Означает: прикладные данные реализуют бизнес-объект.
Комментарий: SKU, атрибуты, медиа.

29. Data Object: Category → Business Object: Категория/справочник характеристик
Тип: Realization relation
Означает: категории реализуют таксономию.
Комментарий: иерархия/видимость.

30. Data Object: Attribute → Business Object: Категория/справочник характеристик
Тип: Realization relation
Означает: атрибуты реализуют справочник характеристик.
Комментарий: типы/единицы измерения.

31. Data Object: Cart → Business Object: Корзина
Тип: Realization relation
Означает: состояние корзины в приложении.
Комментарий: владельцы, TTL.

32. Data Object: Order / OrderItem → Business Object: Заказ / Позиция заказа
Тип: Realization relation
Означает: заказ и позиции заказа в данных.
Комментарий: статусы, суммы, налоги.

33. Data Object: Customer / Address → Business Object: Клиент/профиль
Тип: Realization relation
Означает: учётная запись и реквизиты.
Комментарий: контактные данные, адреса доставки.

34. Data Object: Payment → Business Object: Платёж (транзакция)
Тип: Realization relation
Означает: платёжная запись в приложении.
Комментарий: authorized/captured/refunded/failed.

35. Data Object: Shipment → Business Object: Отгрузка
Тип: Realization relation
Означает: сущность отправки.
Комментарий: служба, номер, состав.

36. Data Object: TrackingEvent → Business Object: Трек-номер/статус доставки
Тип: Realization relation
Означает: события трекинга реализуют бизнес-объект.
Комментарий: код статуса, время, источник.

37. Data Object: PriceList → Business Object: Прайс-лист
Тип: Realization relation
Означает: прайс как прикладные данные.
Комментарий: поставщик, валюта, версия.

38. Data Object: InventorySnapshot → Business Object: Остатки на складе
Тип: Realization relation
Означает: снимок доступности товара.
Комментарий: склад, количество, резерв.

39. Data Object: Invoice / Receipt / Waybill → Business Object: Документы: счёт/чек/накладная/акт
Тип: Realization relation
Означает: документарные данные.
Комментарий: номера, даты, суммы.

40. Data Object: Notification → Business Object: Уведомление
Тип: Realization relation
Означает: сообщение к отправке/истории.
Комментарий: канал, шаблон, статус.

41. Data Object: PromoCode → Business Object: Промокод
Тип: Realization relation
Означает: данные правила скидки.
Комментарий: условия, приоритет, срок.

---

## Прикладной слой (Application Layer)

### Realization (Application Component → Application Service / Interface)

1. Компонент: storefront → Интерфейс: Storefront API
   **Тип:** Realization relation (Отношение реализации)
   **Означает:** фронтенд публикует прикладной интерфейс витрины/ЛК.
   **Комментарий:** действия покупателя и личного кабинета.

2. Компонент: admin-portal → Интерфейс: Admin API
   **Тип:** Realization relation
   **Означает:** админ-приложение предоставляет интерфейс бэк-офиса.
   **Комментарий:** CRUD каталога, заказов, цен, пользователей.

3. Компонент: api-gateway → Интерфейс: Payment Webhook Endpoint
   **Тип:** Realization relation
   **Означает:** единая точка приёма коллбеков от платёжного провайдера.
   **Комментарий:** подтверждения, ошибки, возвраты.

4. Компонент: api-gateway → Интерфейс: Partner API (Logistics)
   **Тип:** Realization relation
   **Означает:** шлюз экспонирует логистический партнёрский API.
   **Комментарий:** создание отправки, запрос статусов.

5. Компонент: api-gateway → Интерфейс: Partner API (Suppliers)
   **Тип:** Realization relation
   **Означает:** шлюз экспонирует партнёрский API поставщиков.
   **Комментарий:** импорт прайсов и остатков.

5а. Компонент: document-service → Сервис: Document API
    **Тип:** Realization relation
    **Означает:** отдельный сервис генерирует печатные формы (PDF).
    **Комментарий:** счёт/чек/накладная/акт.

6. Компонент: core-service → Сервис: Auth/OAuth API
   **Тип:** Realization relation
   **Означает:** аутентификация, выдача токенов/скоупов.
   **Комментарий:** login, refresh, проверка прав.

7. Компонент: user-service → Сервис: User/Identity API
   **Тип:** Realization relation
   **Означает:** управление профилями и адресами.
   **Комментарий:** профиль клиента, реквизиты B2B.

8. Компонент: catalog-service → Сервис: Catalog API
   **Тип:** Realization relation
   **Означает:** доступ к товарам, категориям и атрибутам.
   **Комментарий:** поиск, фильтры, карточки.

9. Компонент: catalog-service → Сервис: Pricing API
   **Тип:** Realization relation
   **Означает:** расчёт/отображение цен.
   **Комментарий:** базовые цены, спец-цены, прайс-матрицы.

10. Компонент: cart-service → Сервис: Cart API
    **Тип:** Realization relation
    **Означает:** управление корзинами и позициями.
    **Комментарий:** создание, обновление, очистка.

11. Компонент: order-service → Сервис: Order API
    **Тип:** Realization relation
    **Означает:** управление заказами и статусами.
    **Комментарий:** создание, чтение, отмена, возврат.

12. Компонент: payment-service → Сервис: Payment API
    **Тип:** Realization relation
    **Означает:** операции authorize/capture/refund.
    **Комментарий:** статусы платежей и ошибки.

13. Компонент: delivery-service → Сервис: Delivery API
    **Тип:** Realization relation
    **Означает:** создание отгрузки и запрос трек-статусов.
    **Комментарий:** службы, этикетки, ETA.

14. Компонент: notification-service → Сервис: Notification API
    **Тип:** Realization relation
    **Означает:** отправка сообщений в каналы.
    **Комментарий:** email/SMS/push/мессенджеры.

15. Компонент: promo-service → Сервис: Promotion API
    **Тип:** Realization relation
    **Означает:** проверка и применение промокодов.
    **Комментарий:** условия, приоритеты, срок действия.

16. Компонент: order-service → Сервис: Document API
    **Тип:** Realization relation
    **Означает:** формирование печатных форм через сервис документов.
    **Комментарий:** счёт, чек, накладная, акт.

---

### Application Interaction (взаимодействия компонентов)

17. Взаимодействие: Размещение заказа \[storefront + order-service]
    **Тип:** Application Interaction
    **Означает:** фронтенд создаёт заказ через Order API.
    **Комментарий:** валидация корзины, фиксация состава.

18. Взаимодействие: Авторизация платежа \[order-service + payment-service]
    **Тип:** Application Interaction
    **Означает:** вызов Payment API для authorize.
    **Комментарий:** ответ влияет на статус заказа.

19. Взаимодействие: Обработка платёжного вебхука \[payment-service + api-gateway]
    **Тип:** Application Interaction
    **Означает:** провайдер шлёт событие, шлюз принимает и маршрутизирует.
    **Комментарий:** capture/refund/failed.

20. Взаимодействие: Создание отправки \[order-service + delivery-service]
    **Тип:** Application Interaction
    **Означает:** запрос на Shipment Creation.
    **Комментарий:** генерация отправки и этикетки.

21. Взаимодействие: Обновление трекинга \[delivery-service + api-gateway]
    **Тип:** Application Interaction
    **Означает:** получение статусов через партнёрский API логистики.
    **Комментарий:** DeliveryStatusUpdated.

22. Взаимодействие: Импорт прайса \[api-gateway + catalog-service]
    **Тип:** Application Interaction
    **Означает:** загрузка прайс-листа поставщика.
    **Комментарий:** валидация и запись цен.

23. Взаимодействие: Обновление остатков \[api-gateway + catalog-service]
    **Тип:** Application Interaction
    **Означает:** приём снимка остатков.
    **Комментарий:** актуализация доступности SKU.

24. Взаимодействие: Отправка уведомления \[order-service + notification-service]
    **Тип:** Application Interaction
    **Означает:** публикация сообщения клиенту/сотруднику.
    **Комментарий:** шаблон, канал, ретраи.

25. Взаимодействие: Применение промокода \[order-service + promo-service]
    **Тип:** Application Interaction
    **Означает:** проверка условий и расчёт скидки.
    **Комментарий:** ответ — итоговая сумма и детали промо.

26. Взаимодействие: Формирование счёта [order-service + document-service]
    **Тип:** Application Interaction
    **Означает:** запрос на генерацию PDF-документа.
    **Комментарий:** ссылка/файл для клиента и ЛК.

27. Взаимодействие: Вход в систему \[storefront + core-service]
    **Тип:** Application Interaction
    **Означает:** аутентификация и выдача токена.
    **Комментарий:** OAuth2/OIDC, refresh-потоки.

---

### Application Process → Application Service (реализация процессов)

28. Процесс: Checkout Process → Сервис: Order API
    **Тип:** Realization relation
    **Означает:** оркестрация checkout опирается на Order API.
    **Комментарий:** validate cart → create order → confirm.

29. Процесс: Payment Processing → Сервис: Payment API
    **Тип:** Realization relation
    **Означает:** шаги оплаты выполняются через Payment API.
    **Комментарий:** authorize → capture/refund.

30. Процесс: Shipment Creation → Сервис: Delivery API
    **Тип:** Realization relation
    **Означает:** создание отгрузки выполняется через Delivery API.
    **Комментарий:** формирование отправки и этикеток.

31. Процесс: Tracking Update → Сервис: Delivery API
    **Тип:** Realization relation
    **Означает:** обработка статусов доставки.
    **Комментарий:** обновление ETA/статусов.

32. Процесс: Price/Stock Import → Сервисы: Pricing API, Catalog API
    **Тип:** Realization relation
    **Означает:** импорт цен и остатков в каталоге.
    **Комментарий:** расписание, контроль версий.

33. Процесс: Document Generation → Сервис: Document API
    **Тип:** Realization relation
    **Означает:** генерация печатных форм.
    **Комментарий:** счёт/чек/накладная/акт.

34. Процесс: User Registration/Login → Сервисы: Auth/OAuth API, User/Identity API
    **Тип:** Realization relation
    **Означает:** регистрация и вход в систему.
    **Комментарий:** создание учётки, выдача токена.

35. Процесс: Order Cancellation/Refund *(опционально)* → Сервисы: Order API, Payment API
    **Тип:** Realization relation
    **Означает:** отмена заказа и возврат средств.
    **Комментарий:** изменения статуса + refund.

36. Процесс: B2B Order Approval *(опционально)* → Сервис: Order API
    **Тип:** Realization relation
    **Означает:** согласование оптового заказа.
    **Комментарий:** маршрут согласования, роли.

---

### Triggering (Application Event → Application Process)

37. Событие: OrderCreated → Процесс: Payment Processing
    **Тип:** Triggering relation (Отношение инициирования)
    **Означает:** создание заказа запускает процесс оплаты.
    **Комментарий:** переход к authorize.

38. Событие: PaymentAuthorized → Процесс: Shipment Creation
    **Тип:** Triggering relation
    **Означает:** успешная авторизация инициирует отгрузку.
    **Комментарий:** подготовка к передаче в логистику.

39. Событие: PaymentCaptured → Процесс: Document Generation
    **Тип:** Triggering relation
    **Означает:** списание средств запускает генерацию документов.
    **Комментарий:** формирование счёта/чека.

40. Событие: PaymentFailed → Процесс: Notification Flow
    **Тип:** Triggering relation
    **Означает:** неуспешная оплата вызывает уведомление.
    **Комментарий:** повторная попытка/инструкция клиенту.

41. Событие: ShipmentCreated → Процесс: Tracking Update
    **Тип:** Triggering relation
    **Означает:** создана отправка — начинаем трекинг.
    **Комментарий:** подписка на статусы.

42. Событие: DeliveryStatusUpdated → Процесс: Notification Flow
    **Тип:** Triggering relation
    **Означает:** новый статус доставки — уведомляем стороны.
    **Комментарий:** доставляется/доставлено/проблема.

43. Событие: PriceListImported → Процесс: Price/Stock Import
    **Тип:** Triggering relation
    **Означает:** поступил новый прайс — обновляем цены.
    **Комментарий:** пересчёт/публикация.

44. Событие: StockUpdated → Процесс: Price/Stock Import
    **Тип:** Triggering relation
    **Означает:** обновлены остатки — актуализируем каталог.
    **Комментарий:** инвалидация кэша, пересчёт доступности.

---

### Access (Application Component → Data Object)

45. Компонент: catalog-service → Объекты данных: Product, Category, Attribute, Price
    **Тип:** Access relation (Отношение доступа)
    **Означает:** чтение/запись товарных данных и цен.
    **Комментарий:** индексы для поиска и фильтров.

46. Компонент: cart-service → Объекты данных: Cart, CartItem
    **Тип:** Access relation
    **Означает:** управление состоянием корзины.
    **Комментарий:** TTL, пользовательские сессии.

47. Компонент: order-service → Объекты данных: Order, OrderItem
    **Тип:** Access relation
    **Означает:** хранение и изменение заказов.
    **Комментарий:** статусы, суммы, налоги.

48. Компонент: user-service → Объекты данных: Customer, Address
    **Тип:** Access relation
    **Означает:** учётные записи и адреса доставки.
    **Комментарий:** ПДн, маскирование.

49. Компонент: payment-service → Объект данных: Payment
    **Тип:** Access relation
    **Означает:** запись транзакций и статусов.
    **Комментарий:** authorized/captured/refunded/failed.

50. Компонент: delivery-service → Объекты данных: Shipment, TrackingEvent
    **Тип:** Access relation
    **Означает:** отправки и события трекинга.
    **Комментарий:** служба, номер, ETA.

51. Компонент: notification-service → Объект данных: Notification
    **Тип:** Access relation
    **Означает:** сообщение к отправке/истории.
    **Комментарий:** канал, шаблон, статус.

52. Компонент: promo-service → Объект данных: PromoCode
    **Тип:** Access relation
    **Означает:** правила скидок и их применение.
    **Комментарий:** приоритет, период действия.

53. Компонент: order-service → Объекты данных: Invoice, Receipt, Waybill
    **Тип:** Access relation
    **Означает:** создание ссылок/метаданных на сгенерированные документы.
    **Комментарий:** хранение метаданных и статусов генерации.

    54. Компонент: document-service → Объекты данных: Invoice, Receipt, Waybill
        **Тип:** Access relation
        **Означает:** генерация и обновление метаданных документов.
        **Комментарий:** статусы генерации, ссылки на файлы.

---

## Технологический слой (Technology Layer)

### Device ↔ Node (размещение)

1. Device: VM (Application) → Node: App Node
   **Тип:** Assignment relation (Отношение назначения)
   **Означает:** узел приложений размещён на ВМ.
   **Комментарий:** среда исполнения микросервисов.

2. Device: VM (Database) → Node: DB Node
   **Тип:** Assignment relation
   **Означает:** узел БД размещён на ВМ.
   **Комментарий:** отдельный ресурс под PostgreSQL.

3. Device: VM (Message Broker) → Node: Message Broker Node
   **Тип:** Assignment relation
   **Означает:** узел брокера сообщений размещён на ВМ.
   **Комментарий:** изоляция очередей.

4. Device: VM (Cache) → Node: Cache Node
   **Тип:** Assignment relation
   **Означает:** узел Redis размещён на ВМ.
   **Комментарий:** низкая задержка кэша.

5. Device: VM (Monitoring) → Node: Monitoring Node *(опционально)*
   **Тип:** Assignment relation
   **Означает:** мониторинг размещён на отдельной ВМ.
   **Комментарий:** Prometheus/Grafana.

6. Device: VM (Logging) → Node: Logging Node *(опционально)*
   **Тип:** Assignment relation
   **Означает:** стек логов размещён на отдельной ВМ.
   **Комментарий:** Elasticsearch/Logstash/Kibana.

---

### Node ↔ System Software (хостинг ПО)

7. Node: App Node → System Software: Linux, Docker Engine, Docker Compose
   **Тип:** Assignment relation
   **Означает:** узел хостит ОС и контейнерный рантайм.
   **Комментарий:** запуск контейнеров.

7a. Node: App Node → System Software: Rust (Toolchain)
    **Тип:** Assignment relation
    **Означает:** сервисы собираются/запускаются в среде Rust.
    **Комментарий:** toolchain/руntime для микросервисов.

8. Node: DB Node → System Software: Linux, PostgreSQL
   **Тип:** Assignment relation
   **Означает:** узел БД хостит СУБД.
   **Комментарий:** порт 5432, SSL.

9. Node: Cache Node → System Software: Linux, Redis
   **Тип:** Assignment relation
   **Означает:** узел кэша хостит Redis.
   **Комментарий:** порт 6379, TTL.

10. Node: Message Broker Node → System Software: Linux, RabbitMQ
    **Тип:** Assignment relation
    **Означает:** узел брокера хостит RabbitMQ.
    **Комментарий:** AMQP, очереди/экченджи.

11. Node: Monitoring Node → System Software: Linux, Prometheus, Grafana *(опционально)*
    **Тип:** Assignment relation
    **Означает:** узел мониторинга хостит сбор/визуализацию.
    **Комментарий:** scrape `/metrics`, дашборды.

12. Node: Logging Node → System Software: Linux, Elasticsearch, Logstash, Kibana *(опционально)*
    **Тип:** Assignment relation
    **Означает:** узел логирования хостит ELK.
    **Комментарий:** приём логов, поиск.

---

### System Software → Technology Service (реализация сервисов)

13. System Software: Docker Engine → Technology Service: Container Runtime Service
    **Тип:** Realization relation (Отношение реализации)
    **Означает:** Docker реализует сервис рантайма.
    **Комментарий:** запуск/перезапуск контейнеров.

14. System Software: PostgreSQL → Technology Service: Database Service
    **Тип:** Realization relation
    **Означает:** СУБД реализует сервис БД.
    **Комментарий:** транзакции, бэкапы.

15. System Software: Redis → Technology Service: Cache Service
    **Тип:** Realization relation
    **Означает:** Redis реализует кэш-сервис.
    **Комментарий:** in-memory KV.

16. System Software: RabbitMQ → Technology Service: Message Broker Service
    **Тип:** Realization relation
    **Означает:** RabbitMQ реализует брокер сообщений.
    **Комментарий:** маршрутизация, подтверждения.

17. System Software: Prometheus/Grafana → Technology Service: Monitoring Service *(опционально)*
    **Тип:** Realization relation
    **Означает:** сбор/визуализация метрик как сервис.
    **Комментарий:** алёрты, дашборды.

18. System Software: Elasticsearch/Logstash/Kibana → Technology Service: Logging Service *(опционально)*
    **Тип:** Realization relation
    **Означает:** хранение/агрегация/поиск логов.
    **Комментарий:** индексация, ретеншн.

---

### Technology Service → Technology Interface (экспонирование)

19. Technology Service: Database Service → Technology Interface: PostgreSQL TCP 5432
    **Тип:** Realization relation
    **Означает:** сервис БД доступен через порт 5432.
    **Комментарий:** TLS/MD5 auth.

20. Technology Service: Cache Service → Technology Interface: Redis TCP 6379
    **Тип:** Realization relation
    **Означает:** сервис кэша доступен через порт 6379.
    **Комментарий:** ACL/пароли.

21. Technology Service: Message Broker Service → Technology Interface: AMQP (RabbitMQ)
    **Тип:** Realization relation
    **Означает:** брокер доступен через AMQP.
    **Комментарий:** vhost, exchange, queue.

22. Technology Service: Monitoring Service → Technology Interface: HTTP `/metrics` *(опционально)*
    **Тип:** Realization relation
    **Означает:** экспорт метрик по HTTP.
    **Комментарий:** Prometheus scrape.

23. Technology Service: Logging Service → Technology Interface: TCP 5044 (Log Ingest) *(опционально)*
    **Тип:** Realization relation
    **Означает:** приём логов через Logstash.
    **Комментарий:** Beats/HTTP input.

24. Technology Service: Container Runtime Service → Technology Interface: HTTPS (Docker API)
    **Тип:** Realization relation
    **Означает:** управление контейнерами по API.
    **Комментарий:** защищённый сокет/порт.

---

### Technology Collaboration (агрегации стеков)

25. Technology Collaboration: Runtime Platform ← System Software: Linux, Docker Engine
    **Тип:** Aggregation relation (Агрегация)
    **Означает:** платформа рантайма агрегирует компоненты.
    **Комментарий:** база для App Node.

26. Technology Collaboration: Monitoring Stack ← System Software: Prometheus, Grafana *(опционально)*
    **Тип:** Aggregation relation
    **Означает:** стек мониторинга из 2 компонентов.
    **Комментарий:** сбор + визуализация.

27. Technology Collaboration: Logging Stack ← System Software: Elasticsearch, Logstash, Kibana *(опционально)*
    **Тип:** Aggregation relation
    **Означает:** стек логирования из 3 компонентов.
    **Комментарий:** хранение/ингест/UI.

---

### Technology Function / Process / Event (поведение)

28. Technology Function: Контейнеризация и изоляция ← System Software: Docker Engine
    **Тип:** Realization relation
    **Означает:** функция обеспечивается Docker.
    **Комментарий:** namespaces, cgroups.

29. Technology Function: Реляционное хранение данных ← System Software: PostgreSQL
    **Тип:** Realization relation
    **Означает:** функция обеспечивается СУБД.
    **Комментарий:** ACID, индексы.

30. Technology Function: Очереди сообщений ← System Software: RabbitMQ
    **Тип:** Realization relation
    **Означает:** функция обеспечивается брокером.
    **Комментарий:** pub/sub, routing keys.

31. Technology Function: Кэширование ← System Software: Redis
    **Тип:** Realization relation
    **Означает:** функция обеспечивается Redis.
    **Комментарий:** eviction, TTL.

32. Technology Process: Развёртывание контейнеров ← Technology Service: Container Runtime Service
    **Тип:** Realization relation
    **Означает:** процесс опирается на сервис рантайма.
    **Комментарий:** pull/run/healthcheck.

33. Technology Process: Резервное копирование БД и восстановление ← Technology Service: Database Service
    **Тип:** Realization relation
    **Означает:** процесс использует сервис БД.
    **Комментарий:** backup/restore, PITR.

34. Technology Process: Алёртинг по метрикам ← Technology Service: Monitoring Service *(опционально)*
    **Тип:** Realization relation
    **Означает:** алёрты на основе метрик.
    **Комментарий:** правила/каналы.

35. Technology Process: Ротация логов ← Technology Service: Logging Service *(опционально)*
    **Тип:** Realization relation
    **Означает:** управление ретеншном и индексами.
    **Комментарий:** ILM, hot/warm.

36. Technology Event: ContainerCrashed → Technology Process: Auto-recovery / Alerting
    **Тип:** Triggering relation (Отношение инициирования)
    **Означает:** авария контейнера инициирует восстановление.
    **Комментарий:** перезапуск, уведомление on-call.

37. Technology Event: DBBackupCompleted → Technology Process: Verify & Rotate Backups
    **Тип:** Triggering relation
    **Означает:** после бэкапа — проверка/ротация.
    **Комментарий:** контроль целостности, retention.

38. Technology Event: QueueBacklogHigh → Technology Process: Масштабирование сервисов
    **Тип:** Triggering relation
    **Означает:** рост очереди запускает масштабирование.
    **Комментарий:** автоскейл или ручной скейл.

39. Technology Event: ServiceHealthCheckFailed → Technology Process: Incident Handling
    **Тип:** Triggering relation
    **Означает:** провал healthcheck инициирует инцидент.
    **Комментарий:** диагностика/изоляция.

---

### Technology Interaction / Network / Path / Interface

40. Technology Interaction: DB connection \[App Node + DB Node] → Path: TCP `postgres:5432`
    **Тип:** Flow/Path relation (Поток/маршрут)
    **Означает:** соединение приложений с БД по указанному пути.
    **Комментарий:** внутренний сегмент сети.

41. Technology Interaction: Cache read/write \[App Node + Cache Node] → Path: TCP `redis:6379`
    **Тип:** Flow/Path relation
    **Означает:** обращение к кэшу по TCP 6379.
    **Комментарий:** ACL, TLS при необходимости.

42. Technology Interaction: Message publish/consume \[App Node + Message Broker Node] → Path: AMQP `amqps://…`
    **Тип:** Flow/Path relation
    **Означает:** публикация/чтение сообщений через AMQP.
    **Комментарий:** подтверждения, DLQ.

43. Technology Interaction: Metrics scrape \[Monitoring Node + App Node] → Interface: HTTP `/metrics` *(опционально)*
    **Тип:** Used-by relation (Отношение использования)
    **Означает:** Prometheus опрашивает `/metrics`.
    **Комментарий:** pull-модель.

44. Technology Interaction: Log shipping \[App Node + Logging Node] → Path: TCP `logstash:5044` *(опционально)*
    **Тип:** Flow/Path relation
    **Означает:** доставка логов в Logstash.
    **Комментарий:** Beats/файлшипперы.

45. Communication Network: Internal Service Network → Path: HTTPS `/api/*`
    **Тип:** Association relation (Ассоциация)
    **Означает:** маршрут сервис-ко-сервису внутри контура.
    **Комментарий:** mTLS/ingress policy.

46. Communication Network: Internet → Path: HTTPS `/webhooks/payments`
    **Тип:** Association relation
    **Означает:** внешний вход для вебхуков провайдера.
    **Комментарий:** WAF, rate limit.

---

### Artifact → Node (развёртывание)

47. Artifact: Docker image `storefront` → Node: App Node
    **Тип:** Deployment relation (Отношение развёртывания)
    **Означает:** образ фронтенда развёрнут на узле приложений.
    **Комментарий:** версия/дайджест фиксируются в CI/CD.

48. Artifact: Docker image `api-gateway` → Node: App Node
    **Тип:** Deployment relation
    **Означает:** образ шлюза развёрнут на узле.
    **Комментарий:** роутинг/безопасность.

49. Artifact: Docker images `catalog/order/user/cart/promo/payment/delivery/notification` → Node: App Node
    **Тип:** Deployment relation
    **Означает:** микросервисы размещены на узле приложений.
    **Комментарий:** скейлинг по нагрузке.

50. Artifact: `docker-compose.yml` / k8s manifests → Node: App Node
    **Тип:** Deployment relation
    **Означает:** декларативное описание развёртывания.
    **Комментарий:** сети, тома, ресурсы.

51. Artifact: Shared libraries package → Node: App Node
    **Тип:** Deployment relation
    **Означает:** общий пакет доступен сервисам.
    **Комментарий:** версионирование, совместимость.

---

### Межслойные связи (в стиле **Serving** «вверх»: Technology → Application → Business)

#### 1) Technology → Application

1. Technology Service: **Database Service (PostgreSQL)** → Application Component: **<все сервисы>**
   Тип: Serving
   Комментарий: централизованное хранилище доменных данных.

2. Technology Service: **Cache Service (Redis)** → Application Component: **<все сервисы>**
   Тип: Serving
   Комментарий: кэш, сессии, TTL.

3. Technology Service: **Message Broker Service (AMQP/RabbitMQ)** → Application Component: **<асинхронные/интеграционные сервисы>**
   Тип: Serving
   Комментарий: pub/sub, очереди, ретраи.

4. Technology Service: **Payment Provider API (external)** → Application Component: **Payment Service**
   Тип: Serving
   Комментарий: authorize/capture/refund через внешний провайдер.

5. Technology Service: **Carrier API (external)** → Application Component: **Delivery Service**
   Тип: Serving
   Комментарий: создание отправок, статусы доставки.

6. Technology Interface: **HTTPS (REST)** → Application Interface: **Storefront API**
   Тип: Realization
   Комментарий: клиентская витрина/ЛК поверх HTTPS.

7. Technology Interface: **HTTPS (REST)** → Application Interface: **Admin API**
   Тип: Realization

8. Technology Interface: **HTTPS (REST)** → Application Interface: **Partner API (Logistics)**
   Тип: Realization

9. Technology Interface: **HTTPS (REST)** → Application Interface: **Partner API (Suppliers)**
   Тип: Realization

10. Technology Interface: **HTTP `/metrics`** → Application Component: **<сервисы с метриками>**
    Тип: Serving
    Комментарий: экспозиция метрик для Prometheus.

11. Communication Network: **Internet** — Application Interface: **Payment Webhook Endpoint**
    Тип: Association
    Комментарий: входящие вебхуки платёжного провайдера.

12. Artifact: **Docker image `storefront`** → Application Component: **Storefront**
    Тип: Realization

13. Artifact: **Docker image `api-gateway`** → Application Component: **API Gateway**
    Тип: Realization

14. Artifact: **Docker image `catalog-service`** → Application Component: **Catalog Service**
    Тип: Realization

15. Artifact: **Docker image `cart-service`** → Application Component: **Cart Service**
    Тип: Realization

16. Artifact: **Docker image `order-service`** → Application Component: **Order Service**
    Тип: Realization

17. Artifact: **Docker image `user-service`** → Application Component: **User/Identity Service**
    Тип: Realization

18. Artifact: **Docker image `pricing-service`** → Application Component: **Pricing Service**
    Тип: Realization

19. Artifact: **Docker image `promotion-service`** → Application Component: **Promotion Service**
    Тип: Realization

20. Artifact: **Docker image `payment-service`** → Application Component: **Payment Service**
    Тип: Realization

21. Artifact: **Docker image `delivery-service`** → Application Component: **Delivery Service**
    Тип: Realization

22. Artifact: **Docker image `notification-service`** → Application Component: **Notification Service**
    Тип: Realization

23. Artifact: **Docker images (все сервисы)** → Node: **Docker Host / VM**
    Тип: Deployment
    Комментарий: развёртывание контейнеров на узлах исполнения.

---

#### 2) Application → Business

24. Application Service: **Catalog API** → Business Process: **Каталог товаров**
    Тип: Serving
    Комментарий: поиск/фильтры/карточки товара.

25. Application Service: **Order API** → Business Process: **Оформление заказа**
    Тип: Serving
    Комментарий: создание/чтение/изменение заказа, статусы.

26. Application Service: **Payment API** → Business Process: **Онлайн-оплата**
    Тип: Serving
    Комментарий: авторизация/подтверждение/возвраты.

27. Application Service: **Delivery API** → Business Process: **Доставка и трекинг**
    Тип: Serving
    Комментарий: создание отгрузки, получение статусов.

28. Application Service: **Notification API** → Business Process: **Уведомления**
    Тип: Serving
    Комментарий: email/SMS/push, шаблоны, аудит.

29. Application Service: **User/Identity API** → Business Process: **Личный кабинет (B2C/B2B)**
    Тип: Serving
    Комментарий: профиль, адреса, реквизиты.

30. Application Service: **Admin API** → Business Process: **Администрирование**
    Тип: Serving
    Комментарий: каталог, цены, заказы, доступы.

31. Application Service: **Pricing API** → Business Process: **Управление ценами**
    Тип: Serving
    Комментарий: расчёт и отображение актуальных цен.

32. Application Service: **Promotion API** → Business Process: **Оформление заказа**
    Тип: Serving
    Комментарий: условия скидок/промо, приоритеты, сроки.

33. Application Interface: **Storefront API** → Business Interface: **Онлайн-витрина и ЛК**
    Тип: Serving

34. Application Interface: **Admin API** → Business Interface: **Административный портал**
    Тип: Serving

35. Application Interface: **Partner API (Logistics)** → Business Interface: **Партнёрский API логистики**
    Тип: Serving

36. Application Interface: **Partner API (Suppliers)** → Business Interface: **Партнёрский API поставщиков**
    Тип: Serving

37. Application Interface: **Payment Webhook Endpoint** → Business Interface: **Платёжный шлюз**
    Тип: Serving
    Комментарий: приём подтверждений/статусов.

38. Application Event: **OrderCreated** → Business Event: **Заказ создан**
    Тип: Triggering

39. Application Event: **PaymentAuthorized** → Business Event: **Оплата подтверждена**
    Тип: Triggering

40. Application Event: **ShipmentCreated** → Business Event: **Заказ передан в доставку**
    Тип: Triggering

41. Application Event: **DeliveryStatusUpdated** → Business Event: **Статус доставки обновлён**
    Тип: Triggering

42. Application Event: **PriceListImported / StockUpdated** → Business Event: **Прайс/остатки обновлены**
    Тип: Triggering

43. Application Process: **Checkout Process** → Business Process: **Оформление заказа**
    Тип: Realization
    Комментарий: оркестрация шагов checkout.

44. Application Process: **Payment Processing** → Business Process: **Онлайн-оплата**
    Тип: Realization

45. Application Process: **Shipment Creation** → Business Process: **Доставка и трекинг**
    Тип: Realization

46. Application Process: **Tracking Update** → Business Process: **Доставка и трекинг**
    Тип: Realization

47. Application Process: **Price/Stock Import** → Business Process: **Обновление прайс-листов и остатков**
    Тип: Realization

48. Application Function: **Расчёт цен** → Business Process: **Управление ценами**
    Тип: Realization

49. Application Function: **Управление каталогом** → Business Process: **Управление каталогом и характеристиками**
    Тип: Realization

---

#### 3) Data → Business (реализация бизнес-объектов данными приложения)

50. Data Object: **Product** → Business Object: **Товар**
    Тип: Realization

51. Data Object: **Category** → Business Object: **Категория/справочник характеристик**
    Тип: Realization

52. Data Object: **Attribute** → Business Object: **Категория/справочник характеристик**
    Тип: Realization

53. Data Object: **Cart** → Business Object: **Корзина**
    Тип: Realization

54. Data Object: **Order / OrderItem** → Business Object: **Заказ / Позиция заказа**
    Тип: Realization

55. Data Object: **Customer / Address** → Business Object: **Клиент/профиль**
    Тип: Realization

56. Data Object: **Payment** → Business Object: **Платёж (транзакция)**
    Тип: Realization

57. Data Object: **Shipment** → Business Object: **Отгрузка**
    Тип: Realization

58. Data Object: **TrackingEvent** → Business Object: **Трек-номер/статус доставки**
    Тип: Realization

59. Data Object: **PriceList** → Business Object: **Прайс-лист**
    Тип: Realization

60. Data Object: **InventorySnapshot** → Business Object: **Остатки на складе**
    Тип: Realization

61. Data Object: **Invoice / Receipt / Waybill** → Business Object: **Документы: счёт/чек/накладная/акт**
    Тип: Realization

62. Data Object: **Notification** → Business Object: **Уведомление**
    Тип: Realization

63. Data Object: **PromoCode** → Business Object: **Промокод**
    Тип: Realization

64. Data Object: **Company (B2B)** → Business Object: **Клиент/профиль (B2B)**
    Тип: Realization

---